# 异步处理模型

​	ES官方参考了大量的异步场景，总结出了一套异步的通用模型，改模型可以覆盖几乎所有的异步场景，甚至同步场景

​	为了兼容旧系统，ES6并打算抛弃过去的做法，只是基于该模型出了一个全新的API。

​	理解API，最重要的是理解它的异步模型

1. ES6将某个可以发生异步操作的事情，分为两个阶段：`unsettled`和 `settled`

   ​	<img src="D:\Desktop\note\2.png" style="zoom: 50%;" />

   - unsettled:未决阶段，表示事情还在进行前期的处理，并没有发生通向结果的那件事
   - settled： 已决阶段，事情已经有了一个结果，不管这个结果的好坏，整件事无法逆转
   - 事情总是从 未决阶段 逐步发展到 已决阶段。并且，未决阶段拥有控制何时通向已决阶段的能力

2. ES6将事情划分为三种状态： pending , resolved, rejected

   - pending: 挂起，处于未决状态，则表示这件事情还在挂起，(最终结果还没出来)

     - 例如：邓哥给女神发短信（未决）

   - resolved：已处理，已决状态的一种状态，表示整件事情出现了结果，并是一个可以按照正常逻辑进行下去的结果

     - 例如：女神回复 （已决）

   - rejected： 已拒绝，已决状态的一种状态，表示整件事情出现了结果，并是一个无法安装正常逻辑进行下去的结果，通常用于表示一个错误
   
     - 例如:  短信没发出去，或发错了（已决的错误状态）
     
     
   
   既然未决状态有权利决定事情的走向，因此，未决阶段可以决定事情最终的状态！
   
   我们将 把事情变为`resolved`状态的过程叫做：`resolved`，推向 该状态时，可以传递一些数据
   
   我们将 把事情变为`rejected`状态的过程叫做：`rejected`，推向 该状态时，可以传递一些数据,通常为错误信息
   
   **始终记住，无论是阶段，还是状态，是不可逆的**
   
3. 当事情到达已决阶段后，通常需要进行后续处理，不同的已决状态，决定了不同的后续处理

   - `resolved`状态：这个一个正常的已决状态，后续处理表示 `thenable`
   - `rejected`状态：这个一个正常的已决状态，后续处理表示 `catchable`